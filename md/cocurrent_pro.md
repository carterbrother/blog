# 21  如何面对高并发？

# 场景的变化



| 场景 | 特点 | 变化点 |
| --- | --- | --- |
| 老 | 复杂的业务逻辑 |  |
| 新 | 大量用户高并发访问 | 软件开发方法，过程管理，组织架构变化 |









# 垂直伸缩


提高服务器的硬件配置来支撑；




两个问题：

1. 物理服务器的硬件性能上限；
1. 投入的成本跟性能提升不成线性关系；





# 水平伸缩


使用更多的服务器形成集群来支撑




# 分布式架构的演进


![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582528943107-6bfe6758-82df-4b08-a3c9-7057da92fc4e.png#align=left&display=inline&height=1474&name=image.png&originHeight=1474&originWidth=1768&size=130304&status=done&style=none&width=1768)







![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582529856702-0d77a055-1e0d-4f51-9272-6c25e031c320.png#align=left&display=inline&height=1480&name=image.png&originHeight=1480&originWidth=1918&size=182868&status=done&style=none&width=1918)




![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582530336472-fb99baa8-dde1-49a8-90b0-3210e094417e.png#align=left&display=inline&height=1488&name=image.png&originHeight=1488&originWidth=1978&size=214380&status=done&style=none&width=1978)






![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582530542622-30523650-f8d5-4f02-8f76-20fd3d06de75.png#align=left&display=inline&height=1714&name=image.png&originHeight=1714&originWidth=2054&size=251149&status=done&style=none&width=2054)






![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582530767413-c7afa905-3c87-4bf1-8096-edcdf33c9202.png#align=left&display=inline&height=1712&name=image.png&originHeight=1712&originWidth=2068&size=285827&status=done&style=none&width=2068)








![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582531592844-7e728344-e913-4e51-930f-b81392f60ecb.png#align=left&display=inline&height=1600&name=image.png&originHeight=1600&originWidth=2222&size=323288&status=done&style=none&width=2222)




# 小结




![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582524590802-bbd5d8d5-768c-4783-aad6-0b5bf557a279.png#align=left&display=inline&height=928&name=image.png&originHeight=928&originWidth=1138&size=129263&status=done&style=none&width=1138)








![image.png](https://cdn.nlark.com/yuque/0/2020/png/186661/1582531659061-700907c7-2669-4a9d-ad23-ff99c2700c4a.png#align=left&display=inline&height=1842&name=image.png&originHeight=1842&originWidth=1204&size=265535&status=done&style=none&width=1204)
